---
const links = [
  { href: "/about/",    label: "About" },
  { href: "/projects/", label: "Projects" },
  { href: "/writing/",  label: "Writing" },
  { href: "/contact/",  label: "Contact" },
];

const path = Astro.url.pathname.endsWith("/") ? Astro.url.pathname : Astro.url.pathname + "/";
---

<header class="header" role="banner">
  <div class="header__brand">
    <a class="brand link" href="/">logotechnologia</a>
    <div class="subbrand">Christos Tsirigotis</div>
  </div>

  <nav class="nav" aria-label="Primary">
    {links.map((l) => (
      <a class="link" href={l.href} aria-current={path === l.href ? "page" : undefined}>
        {l.label}
      </a>
    ))}
  </nav>
</header>

<script is:inline>
  (() => {
    const el = document.querySelector('header.header');
    if (!el) return;
    const onScroll = () => el.classList.toggle('is-stuck', window.scrollY > 2);
    onScroll();
    window.addEventListener('scroll', onScroll, { passive: true });
  })();
</script>
