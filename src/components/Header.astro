---
import SocialIcons from "./SocialIcons.astro";
import DarkToggle from "./DarkToggle.astro";

const path = Astro.url.pathname.endsWith("/") ? Astro.url.pathname : Astro.url.pathname + "/";
---

<header class="header" role="banner">
  <div class="header__brand">
    <a class="brand link" href="/">logotechnologia</a>
    <div class="subbrand">Christos Tsirigotis</div>
  </div>

  <nav class="nav" aria-label="Primary">
    <a href="/about/">About</a>
    <a href="/projects/">Projects</a>
    <a href="/writing/">Writing</a>
    <!-- <a href="/contact/">Contact</a> -->
    <SocialIcons className="header-socials" size={22} />
    <DarkToggle />
  </nav>
</header>

<style>
  .header-socials .social { width: 28px; height: 28px; } /* tidy tap area */
  /* No visible labels: SocialIcons already uses a visually-hidden <span> for a11y */
  .sr-only {                     /* ensure it's actually hidden */
    position:absolute; width:1px; height:1px; padding:0; margin:-1px;
    overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
  }
</style>

<script is:inline>
  (() => {
    const el = document.querySelector('header.header');
    if (!el) return;
    const onScroll = () => el.classList.toggle('is-stuck', window.scrollY > 2);
    onScroll();
    window.addEventListener('scroll', onScroll, { passive: true });
  })();
</script>
