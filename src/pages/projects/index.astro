---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import EntryCard from "../../components/EntryCard.astro";

const projects = (await getCollection("projects"))
  .sort((a,b) => (b.data.date as Date).getTime() - (a.data.date as Date).getTime());
---

<BaseLayout title="Projects & Publications" wide={true} description="Projects, publications, demos, explainers.">
  <h1>Projects & Publications</h1>
  <p class="muted">Reverseâ€‘chronological list. Click <em>More</em> to unfold details; click the title to open the full page.</p>

  <div class="projects-grid" style="margin-top: 24px;">
    {projects.map((p) => <EntryCard entry={p} kind="project" />)}
  </div>
</BaseLayout>
